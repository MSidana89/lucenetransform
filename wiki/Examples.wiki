#summary Example page.
#labels Featured

= Quick guide =

lucene-compress implements transparent compression/transformation of lucene directory index by using decorator design pattern. Before opening index, an underlaying [http://lucene.apache.org/java/2_2_0/api/org/apache/lucene/store/Directory.html Directory] must be created, that stores compressed/transformed data. 

Here is the example how to open compressed index 

{{{
File rootDir = new File("/path_to_dir/");
Directory basedir = FSDirectory.getDirectory(rootDir);
Directory cdir = new LuceneTransform(basedir, new DeflateAlgorithm(), new InflateAlgorithm(),true);
}}}

After successful open, IndexWriter/IndexReader can be created:

{{{
IndexWriter writer = new IndexWriter(cdir, ..... );


IndexReader reader = new IndexReader(cdir, ......);
}}}


It is imperative, that directory is for IndexWriter and IndexReader is constructed with same algorithms, otherwise index will not be readable.

Opening IndexReader and IndexWriter on the same directory simultaneously can have unpredictable results. If you need to use IndexReader when indexing, use new Lucene API  method IndexWriter.getReader();